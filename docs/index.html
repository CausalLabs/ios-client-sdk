<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CausalLabsSDK  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="CausalLabsSDK  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">CausalLabsSDK 0.3.0 Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/CausalLabs/ios-client-sdk"><img src="img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">CausalLabsSDK Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        CausalLabsSDK  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CausalClient.html">CausalClient</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CausalError.html">CausalError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DebugLogVerbosity.html">DebugLogVerbosity</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/View.html">View</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/EventProtocol.html">EventProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FeatureProtocol.html">FeatureProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FeatureViewModel.html">FeatureViewModel</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SessionProtocol.html">SessionProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/FeatureRequest.html">FeatureRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:13CausalLabsSDK12RequiredOnceV">RequiredOnce</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:13CausalLabsSDK8DeviceIda">DeviceId</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:13CausalLabsSDK9FeatureIda">FeatureId</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:13CausalLabsSDK12ImpressionIda">ImpressionId</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:13CausalLabsSDK10JSONObjecta">JSONObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:13CausalLabsSDK9SessionIda">SessionId</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='causal-labs-ios-sdk' class='heading'>Causal Labs iOS SDK</h1>

<p><a href="https://github.com/CausalLabs/ios-client-sdk/actions/workflows/ci.yml"><img src="https://github.com/CausalLabs/ios-client-sdk/actions/workflows/ci.yml/badge.svg" alt="CI"></a> <a href="https://github.com/CausalLabs/ios-client-sdk/actions/workflows/pod-integration.yml"><img src="https://github.com/CausalLabs/ios-client-sdk/actions/workflows/pod-integration.yml/badge.svg" alt="CocoaPods Integration"></a></p>

<p>The <a href="https://www.causallabs.io">Causal Labs</a> iOS SDK integrates Causal with native iOS apps.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 13.0+</li>
<li>Swift 5.8+</li>
<li>Xcode 14.0+</li>
</ul>
<h2 id='package-installation' class='heading'>Package Installation</h2>
<h3 id='a-href-http-cocoapods-org-cocoapods-a' class='heading'><a href="http://cocoapods.org">CocoaPods</a></h3>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'CausalLabsSDK'</span><span class="p">,</span> <span class="s1">'~&gt; 0.2.0'</span>
</code></pre>
<h2 id='causal-compiler-configuration' class='heading'>Causal Compiler Configuration</h2>

<ol>
<li>Install Java 11 (via <a href="https://brew.sh">homebrew</a>)</li>
</ol>
<pre class="highlight shell"><code>brew <span class="nb">install </span>java11
</code></pre>

<ol>
<li>Update your <code>.zprofile</code> or <code>.zshrc</code> (or equivalent)</li>
</ol>
<pre class="highlight shell"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/usr/local/opt/openjdk@11/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
<span class="nb">export </span><span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">"-I/usr/local/opt/openjdk@11/include </span><span class="nv">$CPPFLAGS</span><span class="s2">"</span>
</code></pre>

<blockquote>
<p><strong>Note</strong></p>

<p>Homebrew should indicate the path to <code>java</code> when installation completes.</p>

<p>Depending on your machine configuration, <code>java</code> may be located somewhere else.
If so, you need to replace the path <code>/usr/local/opt/openjdk@11/libexec/openjdk.jdk</code> to correspond to your Java installation location.</p>
</blockquote>

<ol>
<li>Verify <code>java</code> is successfully installed and in your <code>PATH</code></li>
</ol>
<pre class="highlight shell"><code><span class="nv">$ </span>which java
/usr/local/opt/openjdk@11/bin/java
</code></pre>
<pre class="highlight shell"><code><span class="nv">$ </span>java <span class="nt">-version</span>
openjdk version <span class="s2">"11.0.18"</span> 2023-01-17
OpenJDK Runtime Environment Homebrew <span class="o">(</span>build 11.0.18+0<span class="o">)</span>
OpenJDK 64-Bit Server VM Homebrew <span class="o">(</span>build 11.0.18+0, mixed mode<span class="o">)</span>
</code></pre>

<ol>
<li>Symlink the JDK so that <code>causalc</code> (and <code>/usr/libexec/java_home</code>) can find it</li>
</ol>
<pre class="highlight shell"><code><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk
</code></pre>
<h2 id='xcode-project-configuration' class='heading'>Xcode Project Configuration</h2>

<p>After integrating the SDK via CocoaPods and installing Java, you&rsquo;ll need to add a build script phase to your Xcode project.</p>

<ol>
<li>Navigate to your main application target&rsquo;s <code>Build Phases</code> tab.</li>
<li>Add a new <code>Run Script Phase</code> <strong>before</strong> the <code>Compile Sources</code> phase.</li>
<li>Name the script phase <code>FDL Generation</code>.</li>
<li>Set the shell to <code>/bin/sh</code>.</li>
<li>Create your <code>Features.fdl</code> file and place it in your project directory.</li>
<li>Add a new file to your project called <code>Causal.generated.swift</code>.</li>
<li>Add the following script to invoke the compiler and generate your Swift code from your FDL.</li>
</ol>
<pre class="highlight shell"><code><span class="k">${</span><span class="nv">PROJECT_DIR</span><span class="k">}</span>/Pods/CausalLabsSDK/compiler/bin/compiler <span class="nt">--swift</span> <span class="se">\</span>
    <span class="k">${</span><span class="nv">PROJECT_DIR</span><span class="k">}</span>/PATH_TO_YOUR/Causal.generated.swift <span class="se">\</span>
    <span class="k">${</span><span class="nv">PROJECT_DIR</span><span class="k">}</span>/PATH_TO_YOUR/Features.fdl
</code></pre>

<blockquote>
<p><strong>Note</strong></p>

<p>Remember to replace <code>PATH_TO_YOUR</code> above with the paths to your own files.</p>
</blockquote>

<p><strong>Now you can build and run!</strong> If your build succeeds, you should see your generated code in <code>Causal.generated.swift</code>. If your build fails, check the build logs and ensure your paths to the compiler and source files are correct.</p>
<h2 id='example' class='heading'>Example</h2>

<p>You can find our <a href="https://github.com/CausalLabs/ios-client-sdk/tree/main/Example">example app here</a>.</p>

<p>Here&rsquo;s an example FDL file:</p>
<pre class="highlight plaintext"><code>feature RatingBox {
    args {
        "The product that we are collecting ratings for"
        product: String!
    }

    output {
        "The text next to the stars that prompts the visitor to rate the product"
        callToAction: String! = "Rate this product!"

        "The button text for the user submit a review."
        actionButton: String! = "Send Review"
    }

    "Occurs each time a rating is collected"
    event Rating {
        stars: Int!
    }
}
</code></pre>
<h2 id='documentation' class='heading'>Documentation</h2>

<ul>
<li><p><a href="https://causallabs.github.io/ios-client-sdk">iOS SDK documentation</a></p></li>
<li><p><a href="https://tech.causallabs.io/docs/index">Causal reference documentation</a></p></li>
<li><p><a href="https://causallabs.io">Causal Labs</a></p></li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p>See <code>LICENSE.txt</code> for details.</p>

<blockquote>
<p><strong>Copyright © 2023-present Causal Labs, Inc. All rights reserved.</strong></p>
</blockquote>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2023 <a class="link" href="https://www.causallabs.io" target="_blank" rel="external noopener">Causal Labs, Inc.</a>. All rights reserved. (Last updated: 2023-06-28)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
